 <!DOCTYPE html>
 <html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
      <link rel="stylesheet" href="CSS/bootstrap-5.3.7-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="CSS/sales summary.css">
 <body>
   <section class="mt-5">
  <h2 class="text-primary">Raw Materials Inventory</h2>

  <!-- üîç Search bar -->
  <input type="text" id="rawSearch" class="form-control mb-3" placeholder="Search raw materials...">

  <table id="rawTable" class="table table-bordered">
    <thead class="table-dark">
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Quantity</th>
        <th>Cost Price</th>
        <th>Selling Price</th>
        <th>Supplier</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Timber Logs</td>
        <td>Wood</td>
        <td>50</td>
        <td>150000</td>
        <td>180000</td>
        <td>Upcountry Supplier A</td>
      </tr>
      <tr>
        <td>Poles</td>
        <td>Wood</td>
        <td>300</td>
        <td>10000</td>
        <td>3000000</td>
        <td>Kabira Woods</td>
      </tr>
      <tr>
        <td>Hardwood</td>
        <td>Wood</td>
        <td>100</td>
        <td>250000</td>
        <td>2500000</td>
        <td>Skoob Wood Suppliers</td>
      </tr>
    </tbody>
  </table>
  <h5 id="rawTotal" class="text-success"></h5>
</section>


<section class="mt-5">
  <h2 class="text-success">Finished Products Inventory</h2>

  <!-- üîç Search bar -->
  <input type="text" id="finishedSearch" class="form-control mb-3" placeholder="Search finished products...">

  <table id="finishedTable" class="table table-bordered">
    <thead class="table-dark">
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Quantity</th>
        <th>Cost Price</th>
        <th>Selling Price</th>
        <th>Supplier</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Sofa Set</td>
        <td>Furniture</td>
        <td>10</td>
        <td>300000</td>
        <td>450000</td>
        <td>MWF Workshop</td>
      </tr>
      <tr>
        <td>Office Desk</td>
        <td>Office</td>
        <td>50</td>
        <td>150000</td>
        <td>180000</td>
        <td>Upcountry Supplier A</td>
      </tr>
    </tbody>
  </table>
  <h5 id="finishedTotal" class="text-success"></h5>
</section>


<!-- ‚úÖ JavaScript -->
<script>
function setupTable(tableId, searchId, totalId) {
  const table = document.getElementById(tableId);
  const rows = table.querySelectorAll("tbody tr");

  // üîç Search filter
  document.getElementById(searchId).addEventListener("keyup", function() {
    let filter = this.value.toLowerCase();
    rows.forEach(row => {
      row.style.display = row.innerText.toLowerCase().includes(filter) ? "" : "none";
    });
  });

  // üìä Calculate total value (Quantity √ó Selling Price)
  function calculateTotal() {
    let total = 0;
    rows.forEach(row => {
      let qty = parseInt(row.cells[2].innerText.replace(/,/g, "")) || 0;
      let price = parseInt(row.cells[4].innerText.replace(/,/g, "")) || 0;
      total += qty * price;

      // ‚ö†Ô∏è Highlight low stock
      if (qty < 20) {
        row.style.backgroundColor = "#ffe5e5"; // light red
      }
    });
    document.getElementById(totalId).innerText = "Total Value: UGX " + total.toLocaleString();
  }

  calculateTotal();
}

// ‚úÖ Apply to both tables
setupTable("rawTable", "rawSearch", "rawTotal");
setupTable("finishedTable", "finishedSearch", "finishedTotal");
</script>
  
 </body>
 </html>
